# Chatty
<img width="70" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-07 á„‹á…©á„Œá…¥á†« 12 24 37" src="https://github.com/hwangyeri/Chatty/assets/114602459/85850016-5ee0-463a-95ef-477476e484e8">

### ì–´ë””ì„œë“  íŒ€ì„ ëª¨ì„ ìˆ˜ ìˆëŠ” ë©”ì‹ ì € ì•±ì…ë‹ˆë‹¤.

![chatty_mockup](https://github.com/hwangyeri/Chatty/assets/114602459/9c531a85-0886-4529-95d0-64a84ec5d4b0)

## ì£¼ìš” ê¸°ëŠ¥
- íšŒì›ê°€ì… â€¢ ì†Œì…œ ë¡œê·¸ì¸ â€¢ ì´ë©”ì¼ ë¡œê·¸ì¸ â€¢ ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥
- ì›Œí¬ìŠ¤í˜ì´ìŠ¤ / ì±„ë„ / DM ê´€ë¦¬ â€¢ ê²€ìƒ‰ â€¢ ë©¤ë²„ ì´ˆëŒ€ â€¢ ì±„íŒ… ê´€ë¦¬ â€¢ ê¶Œí•œ ë³€ê²½ ê¸°ëŠ¥
- ë‚´ í”„ë¡œí•„ ê´€ë¦¬ â€¢ ì½”ì¸ ê²°ì œ â€¢ ì‹¤ì‹œê°„ ì±„íŒ… ê¸°ëŠ¥
<br/>

## ê°œë°œ í™˜ê²½
- **ìµœì†Œ ë²„ì „** : iOS 16.0
- **ê°œë°œ ì¸ì›** : 1ëª…
- **ê°œë°œ ê¸°ê°„** : 2024.01.03 ~ 2024.02.29 (2ë‹¬)
<br/>

## ê¸°ìˆ  ìŠ¤íƒ
- `UIKit`, `CodeBaseUI`, `SPM`
- `MVVM`, `Singleton`, `Input-Output`, `Design System`
- `AutoLayout`, `Snapkit`,Â `Then`, `SideMenu`
- `RxSwift`, `Alamofire`, `Kingfisher`
- `KakaoSDK`, `AuthenticationServices`, `FCM`
- `SocketIO`, `Realm`, `WebKit`, `iamport-ios`
- `SwiftKeychainWrapper`, `IQKeyboardManagerSwift`
<br/>

### í˜‘ì—… ë„êµ¬
- `Git/Github`, `Confluence`, `Swagger`, `Figma`
<br/>

## í•µì‹¬ ê¸°ìˆ 
- `KakaoSDK`, `AuthenticationServices`ì„ ì´ìš©í•œ ì†Œì…œ ë¡œê·¸ì¸ êµ¬í˜„
- `MultipartForm/Data` â€¢ `Kingfisher`ë¥¼ ì´ìš©í•œ ì—¬ëŸ¬ ì¥ì˜ ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° ìºì‹±, ë‹¤ìš´ìƒ˜í”Œë§ êµ¬í˜„
- ê³„ì¸µì ì¸ ë°ì´í„° êµ¬ì¡°ë¥¼ ì´ìš©í•œÂ `Expandable TableViewCell`ê³¼ ë‹¤ì–‘í•œ íƒ€ì…ì˜Â `Custom Cell`Â êµ¬ì„±
- `Dispatch Group`ê³¼ íŠ¸ë¦¬ê±°ë¥¼ ì´ìš©í•œ ìˆœì„œê°€ ë³´ì¥ëœ ë‹¤ì¤‘ ë„¤íŠ¸ì›Œí¬ ë¹„ë™ê¸° ì²˜ë¦¬ ë° ì œì–´ êµ¬ì¡° êµ¬í˜„
- `SocketIO`ë¥¼ ì´ìš©í•œ ì–‘ë°©í–¥ í†µì‹ ì˜ ì‹¤ì‹œê°„ ì±„íŒ… ê¸°ëŠ¥ êµ¬í˜„
- `Realm DB`ë¥¼ ì´ìš©í•œ ê³¼ê±° ì±„íŒ… ë‚´ì—­ ê´€ë¦¬ ë° ë¶ˆí•„ìš”í•œ ì„œë²„ ìš”ì²­ ìµœì†Œí™”
- `PG`ë¥¼ ì—°ë™í•˜ì—¬ ì˜ì£¼ì¦ ê²€ì¦ ë¡œì§ ë° `WebView`ì™€ `Deep Link`ë¥¼ ì´ìš©í•œ ê²°ì œ ì‹œìŠ¤í…œ êµ¬í˜„
- `Protocol`ê³¼ `Singleton` íŒ¨í„´ì„ ì´ìš©í•œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë¡œì§ ëª¨ë“ˆí™” ë° ì¶”ìƒí™”
<br/>

## êµ¬í˜„ ê¸°ëŠ¥
### 1. Realm, HTTP, Socketì„ ì¡°í•©í•´ì„œ ì‹¤ì‹œê°„ ì±„íŒ… ê¸°ëŠ¥ êµ¬í˜„
#### 1-1. ì±„íŒ… í™”ë©´ ì§„ì… ì‹œ ì´ˆê¸° ë°ì´í„° ë¡œë”© ë¡œì§
<img width="700" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-06 á„‹á…©á„’á…® 4 12 42" src="https://github.com/hwangyeri/Chatty/assets/114602459/8174905a-cdf8-41a0-a937-70d3abdc34a4">


#### 1-2. ì‹¤ì‹œê°„ ì±„íŒ… ì‘ë‹µ/ì „ì†¡ ë¡œì§Â 
<img width="700" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-03-06 á„‹á…©á„’á…® 4 12 15" src="https://github.com/hwangyeri/Chatty/assets/114602459/065b051a-90de-426b-8b49-b3907db8cd86">

<br/><br/>

## ë¬¸ì œ í•´ê²°
### 1. ì„¹ì…˜ë³„ ë‹¤ì–‘í•œ Cell Type ë° í„°ì¹˜ ì´ë²¤íŠ¸ ì²˜ë¦¬ì˜ ë³µì¡ì„± í•´ì†Œ
- **ë¬¸ì œ ìƒí™©** : Expandable TableViewCellì„ êµ¬í˜„í•˜ëŠ” ê³¼ì •ì—ì„œ ê° ì„¹ì…˜ë§ˆë‹¤ ë‹¤ì–‘í•œ Cellì„ êµ¬ì„±í•˜ê³ , í„°ì¹˜ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬ í•˜ê¸° ìœ„í•œ ë©”ì„œë“œì—ì„œ ë³µì¡í•œ ì—°ì‚°ê³¼ ifë¬¸ì´ ì¦ê°€í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•¨.
- **í•´ê²° ë°©ë²•** : ViewModelì—ì„œ Enumì„ í™œìš©í•˜ì—¬ ê° ì…€ì˜ íƒ€ì…ì„ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•˜ëŠ” ê³„ì¸µì ì¸ ë°ì´í„° êµ¬ì¡°ë¥¼ ë„ì…í•¨. ì´ë¥¼ í†µí•´ ë°ì´í„° ì²˜ë¦¬ë¥¼ ë‹¨ìˆœí™”í•˜ê³ , ì…€ì„ êµ¬ë¶„í•´ í•„ìš”í•œ ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ê°€ê³µí•˜ì—¬ ì…€ì— ì „ë‹¬í•¨ìœ¼ë¡œì¨ ì¤‘ë³µ ì½”ë“œë¥¼ ìµœì†Œí™”í•˜ê³  ì½”ë“œì˜ ê°€ë…ì„±ì„ í–¥ìƒì‹œí‚´.


```swift

// HomeViewModel

  func fetchNumberOfRowsInSection(section: Int) -> Int {
      guard let channelsData = channelsData, let dmData = dmData else {
          print("NumberOfRowsInSection channelsData Error: \(channelsData)")
          print("NumberOfRowsInSection dmData Error: \(dmData)")
          return 0
      }
      
      switch section {
      // ì„¹ì…˜ì´ ì—´ë¦° ê²½ìš° => ë°ì´í„° ê°œìˆ˜ + ì œëª© ì…€ í•˜ë‚˜ ì¶”ê°€í•´ì„œ ë³´ì—¬ì£¼ê¸°
      // ì„¹ì…˜ì´ ë‹«íŒ ê²½ìš° => ì œëª© ì…€ í•˜ë‚˜ ë³´ì—¬ì£¼ê¸°
      case 0:
          // ì±„ë„
          return channelsData.isOpened ? channelsData.sectionData.count + 2 : 1 // í”ŒëŸ¬ìŠ¤ ì…€ ë•Œë¬¸ì— + 2
      case 1:
          // ë‹¤ì´ë ‰íŠ¸ ë©”ì„¸ì§€
          return dmData.isOpened ? dmData.sectionData.count + 2 : 1
      default:
          // íŒ€ì› ì¶”ê°€
          return 1
      }
  }

  enum HomeTableViewCellType {
        case sectionCell
        case channelRowCell
        case dmRowCell
        case plusCell
    }
      
  func cellType(indexPath: IndexPath) -> HomeTableViewCellType {
      guard let channelsData = channelsData, let dmData = dmData else {
          return .sectionCell
      }
      
      switch (indexPath.section, indexPath.row) {
      case (0, 0), (1, 0): 
          return .sectionCell
      case (0, channelsData.sectionData.count + 1), (1, dmData.sectionData.count + 1), (2, 0):
          return .plusCell
      case (0, _): 
          return .channelRowCell
      case (1, _):
          return .dmRowCell
      default:
          return .sectionCell
          
      }
  }

```
<br/>
  
### 2. ìˆœì„œê°€ ë³´ì¥ë˜ì§€ ì•ŠëŠ” ë¹„ë™ê¸° ë„¤íŠ¸ì›Œí¬ ë™ì‹œ í˜¸ì¶œë¡œ ì¸í•œ ë°ì´í„° ëˆ„ë½
- **ë¬¸ì œ ìƒí™©** : ì—¬ëŸ¬ ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œì´ ë™ì‹œì— ì´ë¤„ì¡ŒëŠ”ë° ì›í•˜ëŠ” ìˆœì„œë¡œ ë³´ì¥ë˜ì§€ ì•Šì•„, ëª¨ë“  ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë˜ê¸° ì „ì— ë·°ê°€ ë‚˜íƒ€ë‚˜ì„œ ë°ì´í„° ëˆ„ë½ ë¬¸ì œ ë°œìƒí•¨.
- **í•´ê²° ë°©ë²•** : DispatchGroupì„ í™œìš©í•˜ì—¬ ì—¬ëŸ¬ ë¹„ë™ê¸° ì‘ì—…ì„ ê·¸ë£¹í™”í•˜ê³ , ê° ì‘ì—…ì´ ì™„ë£Œë  ë•Œë§ˆë‹¤ íŠ¹ì • íŠ¸ë¦¬ê±°(PublishRelay)ë¥¼ í™œìš©í•˜ì—¬ ì‘ì—… ì™„ë£Œ ì‹œì ì„ ì²´í¬í•¨. ì´ë¥¼ í†µí•´ ì›í•˜ëŠ” ìˆœì„œë¡œ ì‘ì—…ì´ ìˆ˜í–‰ë˜ë„ë¡ ì¡°ì ˆí•˜ê³ , DispatchGroupì˜ notify í´ë¡œì € ë‚´ì—ì„œ ë‹¤ìŒ ì‘ì—…ì„ ì‹¤í–‰í•¨ìœ¼ë¡œì¨ ë¹„ë™ê¸° ì‘ì—…ì˜ ìˆœì„œë¥¼ ë³´ì¥í•˜ê³  ë°ì´í„° ëˆ„ë½ ë¬¸ì œë¥¼ ë°©ì§€í•¨.


```swift
  // Top UI ë°ì´í„° ì¡°íšŒ
    func fetchTopData() {
        let group = DispatchGroup()
        
        if workspaceID != nil {
            group.enter()
            // ë‚´ê°€ ì†í•œ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í•œ ê°œ ì¡°íšŒ API
            NetworkManager.shared.request(
                type: Workspace.self,
                router: .oneWorkspaceRead(id: workspaceID ?? 0),
                completion: { [weak self] result in
                    switch result {
                    case .success(let data):
                        print("ğŸ©µ ë‚´ê°€ ì†í•œ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í•œ ê°œ ì¡°íšŒ API ì„±ê³µ")
                        dump(data)
                        self?.workspaceData = data
                    case .failure(let error):
                        print("ğŸ’› ë‚´ê°€ ì†í•œ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í•œ ê°œ ì¡°íšŒ API ì‹¤íŒ¨: \(error.errorDescription)")
                    }
                    
                    group.leave()
                })
        } else {
            print("ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì—†ìŒ")
        }
        
        group.enter()
        // ë‚´ í”„ë¡œí•„ ì •ë³´ ì¡°íšŒ API
        NetworkManager.shared.request(
            type: MyProfileOutput.self,
            router: .usersMy) { [weak self] result in
            switch result {
            case .success(let data):
                print("ğŸ©µ ë‚´ í”„ë¡œí•„ ì •ë³´ ì¡°íšŒ API ì„±ê³µ")
                dump(data)
                self?.myProfile = data
                self?.isCompletedTopUIData.accept(true)
            case .failure(let error):
                print("ğŸ’› ë‚´ í”„ë¡œí•„ ì •ë³´ ì¡°íšŒ API ì‹¤íŒ¨: \(error.errorDescription)")
            }
            
            group.leave()
        }
        
        group.notify(queue: .main) { [weak self] in
            self?.fetchHomeData()
        }
    }
```
<br/>

## ê³ ë¯¼í•œ ì 
#### 1. MVVM ì•„í‚¤í…ì²˜ ë„ì…ìœ¼ë¡œ TableView ë³µì¡ì„± í•´ê²°
- ViewControllerì—ì„œ ì²˜ë¦¬í•´ì•¼ í•˜ëŠ” ì‘ì—…ì´ ì¦ê°€í•¨ì— ë”°ë¼ TableView ì‘ì—…ì˜ ë³µì¡ì„±ì´ ë†’ì•„ì ¸, MVVM ì•„í‚¤í…ì²˜ë¥¼ ë„ì…í•˜ì—¬ ì´ë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤.

#### 2. ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ë° Enum í™œìš©ìœ¼ë¡œ ì½”ë“œ ê°€ë…ì„± í–¥ìƒ
- ê°ì²´ëª…ì´ë‚˜ ë°˜ë³µë˜ëŠ” í…ìŠ¤íŠ¸ë¥¼ í•˜ë“œì½”ë”© ëŒ€ì‹  ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì„¤ì •í•˜ê³ , enumì„ í™œìš©í•˜ì—¬ ëª…ëª…ëœ ìƒìˆ˜ë¡œ ì •ì˜í•˜ì—¬ ì½”ë“œ ê°€ë…ì„±ì„ í–¥ìƒì‹œì¼°ìŠµë‹ˆë‹¤.

#### 3. Result Type ë„ì…ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ì²˜ë¦¬ ê°„ê²°í™”
- ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ì²˜ë¦¬ë¥¼ ê°„ê²°í•œ í˜•íƒœë¡œ ë‹¤ë£¨ê¸° ìœ„í•´ Result Typeì„ ë„ì…í•˜ì—¬ ì½”ë“œì˜ ê°€ë…ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.

#### 4. Lazy ë³€ìˆ˜ë¥¼ í™œìš©í•œ ë©”ëª¨ë¦¬ íš¨ìœ¨ ê°œì„ 
- í•„ìˆ˜ì ì´ì§€ ì•Šì€ UIëŠ” lazy ë³€ìˆ˜ë¡œ ì„ ì–¸í•˜ì—¬ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.

#### 5. ê°•ì œ ì–¸ë˜í•‘ ëŒ€ì‹  nil ì²˜ë¦¬ë¥¼ í†µí•œ ì•± ì•ˆì •ì„± ê°•í™”
- ê°•ì œ ì–¸ë˜í•‘ì„ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹ , ëª¨ë“  ë³€ìˆ˜ì— nil coalescing ë˜ëŠ” if/guard let ë°”ì¸ë”©ì„ í†µí•´ ì•± í¬ëŸ¬ì‹œë¥¼ ë°©ì§€í•˜ì˜€ìŠµë‹ˆë‹¤.
<br/>

## UI
#### 1. íšŒì›ê°€ì…, ë¡œê·¸ì¸
![chatty_UI_01](https://github.com/hwangyeri/Chatty/assets/114602459/ad4fe93c-7852-4f62-86eb-df8bfb5b35de)

#### 2. ì›Œí¬ìŠ¤í˜ì´ìŠ¤, ì±„ë„, ì±„íŒ…
![chatty_UI_02](https://github.com/hwangyeri/Chatty/assets/114602459/0f9b1f82-5b84-4623-9ec1-9c400bd69878)

#### 3. PG ê²°ì œ
![chatty_UI_03](https://github.com/hwangyeri/Chatty/assets/114602459/b46f0ca8-dcd7-4cda-b701-dfd55f5a4f36)

<br/>

## Commit Convention
```
- [Feat] ìƒˆë¡œìš´ ê¸°ëŠ¥ êµ¬í˜„
- [Style] UI ë””ìì¸ ë³€ê²½
- [Fix] ë²„ê·¸, ì˜¤ë¥˜ í•´ê²°
- [Refactor] ì½”ë“œ ë¦¬íŒ©í† ë§
- [Remove] ì“¸ëª¨ ì—†ëŠ” ì½”ë“œ ì‚­ì œ
- [Rename] íŒŒì¼ ì´ë¦„/ìœ„ì¹˜ ë³€ê²½
- [Chore] ë¹Œë“œ ì—…ë¬´, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ë° ë‚´ë¶€ íŒŒì¼ ìˆ˜ì •
- [Comment] í•„ìš”í•œ ì£¼ì„ ì¶”ê°€ ë° ë³€ê²½
- [Test] í…ŒìŠ¤íŠ¸ ì½”ë“œ, í…ŒìŠ¤íŠ¸ ì½”ë“œ ë¦¬í™í† ë§
```

<br/>
